Bonjour,

Merci pour ton temps et pour la présentation de l’EB.

Suite à cela, je t’envoie ce mail pour te partager ce que j’ai retenu.
Peux-tu, s’il te plaît, me corriger ou compléter si j’ai oublié certains éléments ?

Contexte :

L’objectif de l’EB est d’automatiser l’alimentation des données pour les e e r a d , à partir des données disponibles dans lake.

Aujourd’hui, avant de devenir client, un prospect suit plusieurs étapes enregistrées dans le CRM Salesforce. 
Certaines de ces données sont déjà intégrées dans le data lake, mais d'autres, pourtant essentielles pour les EERAD, ne le sont pas encore.

C’est pourquoi un script est actuellement lancé manuellement par le XXXX pour aller récupérer dans Salesforce les données manquantes, non présentes dans lakezhhzdz.
Ces données sont ensuite croisées avec celles disponibles, nettoyées, les règles de gestion sont appliquées, et le tout permet de générer des lignes prêtes à être utilisées dans le rapport.

Solution proposée :

Stocker et tracer les étapes d’un prospect à distance dans l’entrepôt de données PVD, à travers deux tables :

Table Stock :

Elle représente une image à date d’un prospect dès sa première action en ligne.
On y retrouve des informations figées (comme case$$$id$$$$c, identifiant unique du prospect), ainsi que des données susceptibles d’évoluer dans le temps (comme case$$last$$modify$$date$$c, date de dernière modification du statut).

Pour ce type de données, seule la dernière valeur non vide ou non erronée est conservée.
Résultat : une ligne par prospect, avec case$$id$$c comme clé primaire.

Table Flux :

Elle enregistre chaque étape du parcours du prospect, depuis sa première action jusqu’à la conclusion (devenir client, abandon, etc.).

Chaque changement de statut/sous-statut est inscrit dans cette table.
Un prospect peut donc avoir plusieurs lignes dans cette table, selon le nombre d’étapes franchies.
La clé primaire est composée des champs : case$$id$$c, status, sub$$status, (à compléter selon les noms exacts).

Données sources :

Les données concernées sont actuellement disponibles dans la table RC_2023 de lake**.
